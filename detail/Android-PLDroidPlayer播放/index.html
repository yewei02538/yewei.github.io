<!DOCTYPE html>
<html>
    <head>
    <!-- Title -->
    
    <title>
        Android 使用PLDroidPlayer播放网络视频 根据视频角度自动旋转 | Wey Ye的博客
    </title>
    
    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/favicon.ico">
    <link rel="icon" sizes="192x192" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- Meta & INfo -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Wey Ye">
    <meta name="description" content="null">
    <meta name="keywords" content="android,个人技术博客,移动开发,google">
    
    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">
    
    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Wey Ye的博客">
    
    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://weyye.me">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Android 使用PLDroidPlayer播放网络视频 根据视频角度自动旋转 | Wey Ye的博客">
    <meta property="og:description" content="null">
    
     <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">
        
        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->
    
    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
	body, html{
		font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
	}
	
    a{
        color: #00838F
    }
    
    .mdl-card__media,
    #search-label,
    #search-form-label:after,
    #scheme-Paradox .hot_tags-count,
    #scheme-Paradox .sidebar_archives-count,
    #scheme-Paradox .sidebar-colored .sidebar-header,
    #scheme-Paradox .sidebar-colored .sidebar-badge{
        background-color: #0097A7 !important
    }
    
	/* Sidebar User Drop Down Menu Text Color */
	#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus{
        color: #0097A7 !important
    }
    
    #post_entry-right-info,
    .sidebar-colored .sidebar-nav li:hover > a,
    .sidebar-colored .sidebar-nav li:hover > a i,
    .sidebar-colored .sidebar-nav li > a:hover,
    .sidebar-colored .sidebar-nav li > a:hover i,
    .sidebar-colored .sidebar-nav li > a:focus i,
    .sidebar-colored .sidebar-nav > .open > a,
    .sidebar-colored .sidebar-nav > .open > a:hover,
    .sidebar-colored .sidebar-nav > .open > a:focus,
    #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a{
        color: #0097A7 !important
    }
    
    .toTop{
        background: #757575 !important
    }
		
	.material-layout .material-post>.material-nav,
	.material-layout .material-index>.material-nav,
	.material-nav a{
		color: #757575;
	}
		
	#scheme-Paradox .MD-burger-layer {
		background-color: #757575;
	}

	#scheme-Paradox #post-toc-trigger-btn{
		color: #757575;
	}
	
	.post-toc a:hover{
		color: #00838F;
		text-decoration: underline;
	}
</style>


<!-- Theme Background Related-->

    <style>
        body{
            background-color: #F5F5F5
        }
		
		/* blog_info bottom background */
        #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
            background-color: #fff;
        }
    </style>




<!-- Fade Effect -->

    <style>
        .fade {
            transition: all 800ms linear;
            -webkit-transform: translate3d(0,0,0);
            -moz-transform: translate3d(0,0,0);
            -ms-transform: translate3d(0,0,0);
            -o-transform: translate3d(0,0,0);
            transform: translate3d(0,0,0);
            opacity: 1;
        }

        .fade.out{
            opacity: 0;
        }
    </style>

	<script src="/js/jquery.min.js"></script>
	
	<link rel="stylesheet" href="/css/highlight/solarized-white.css">
	
	<!-- UC Browser Compatible-->
	<script>
		var agent = navigator.userAgent.toLowerCase();
		if(agent.indexOf('ucbrowser')>0) {
			document.write('<link rel="stylesheet" href="/css/uc.css">');
		   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
		}
	</script>
    
    <!-- Custom Head -->
    
        
			<!-- baidu_analytics -->
			<script> var _hmt = _hmt || []; (function() { var hm = document.createElement('script'); hm.src = 'https://hm.baidu.com/hm.js?b7e5f6ac58c952eaf3e7b49fb65496f8'; var s = document.getElementsByTagName('script')[0];  s.parentNode.insertBefore(hm, s); })(); </script>
        
    
</head>
	
	

    <body id="scheme-Paradox">

		
        <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
				
			
			
            <!-- Main Container -->
            <main class="material-layout__content" id="main">
				
                <!-- Top Anchor -->
                <div id="top"></div>
				
				
                <!-- Hamburger Button -->
                <button class="MD-burger-icon sidebar-toggle">
                    <span class="MD-burger-layer"></span>
                </button>
				
				
                <!-- Post TOC -->

    
	<!-- Back Button -->
<!--
	<div class="material-back" id="backhome-div" tabindex="0">
		<a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="#" onclick="window.history.back();return false;" target="_self" role="button" data-upgraded=",MaterialButton,MaterialRipple">
			<i class="material-icons" role="presentation">arrow_back</i>
			<span class="mdl-button__ripple-container">
				<span class="mdl-ripple"></span>
			</span>
		</a>
	</div>			
-->
	<!-- Left aligned menu below button -->
	<button id="post-toc-trigger-btn"
			class="mdl-button mdl-js-button mdl-button--icon">
	  <i class="material-icons">format_list_numbered</i>
	</button>

	<ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect"
		for="post-toc-trigger-btn">
			
			
		
<!--			<li class="mdl-menu__item">Some Action</li>-->
	</ul>



<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">
		
        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
	<!-- Paradox Post Header -->
	
		
			<!-- Random Thumbnail -->
			<div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
				<script>
    
    var randomNum;
    randomNum = Math.floor(Math.random() * 5 + 1);
    
    $(".post_thumbnail-random").css('background-image', 'url(' + '/img/random/' + randomNum + '.png' + ')');
    
</script>

		
	
        <p class="article-headline-p">
            Android 使用PLDroidPlayer播放网络视频 根据视频角度自动旋转
        </p>
    </div>

	

				
				
					<!-- Paradox Post Info -->
					<div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">
    
    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Wey Ye</strong>
        <span>7月 20, 2016</span>
    </div>
    
    <div class="section-spacer"></div>
	
    <!-- Favorite -->
<!--
    <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
        <i class="material-icons" role="presentation">favorite</i>
        <span class="visuallyhidden">favorites</span>
    </button>
-->
    
    <!-- Tags (bookmark) -->
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        
    </ul>
    
    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    
    
    
    
    
    <!-- Share Twitter -->
    <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Android 使用PLDroidPlayer播放网络视频 根据视频角度自动旋转&url=http://weyye.me//detail/Android-PLDroidPlayer播放/index.html&via=Wey Ye" target="_blank">
        <li class="mdl-menu__item">
            分享到 Twitter
        </li>
    </a>
    
    <!-- Share Google+ -->
    <a class="post_share-link" href="https://plus.google.com/share?url=http://weyye.me//detail/Android-PLDroidPlayer播放/index.html" target="_blank">
        <li class="mdl-menu__item">
            分享到 Google+
        </li>
    </a>
    
    <!-- Share Weibo -->
    <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Android 使用PLDroidPlayer播放网络视频 根据视频角度自动旋转&url=http://weyye.me//detail/Android-PLDroidPlayer播放/index.html&pic=&searchPic=false&style=simple" target="_blank">
        <li class="mdl-menu__item">
            分享到微博
        </li>
    </a>
</ul>
</div>
				

                <!-- Post Content -->
                <div id="post-content" class="markdown-Github mdl-color-text--grey-700 mdl-card__supporting-text fade out">
	
		<p>最近因为项目需求 ，需要播放网络视频  ，于是乎 研究了一番 ，说说我遇到的那些坑    </p>
<p>现在市面上有几个比较主流好用的第三方框架</p>
<ul>
<li>Vitamio （  体积比较大，有商业化风险 github:<a href="https://github.com/yixia/VitamioBundle/）" target="_blank" rel="external">https://github.com/yixia/VitamioBundle/）</a></li>
<li>ijkplayer（B站下开源的框架 体积大 配置环境比较麻烦  github:<a href="https://github.com/Bilibili/ijkplayer" target="_blank" rel="external">https://github.com/Bilibili/ijkplayer</a> ）</li>
<li>PLDroidPlayer（七牛根据ijkplayer二次开发的 定制简单 github:<a href="https://github.com/pili-engineering/PLDroidPlayer）" target="_blank" rel="external">https://github.com/pili-engineering/PLDroidPlayer）</a><a id="more"></a>
当然还有很多别的视频播放框架 因为我只找到这几个= =！</li>
</ul>
<p>因为项目比较急，所以我用的比较简单的 PLDroidPlayer</p>
<p> 首先把需要的jar包和jni文件拷到你的项目中<br>这个里面有很多控件，你们可以根据自己的需求来用指定的控件，我用的是PLVideoTextureView</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;com.pili.pldroid.player.widget.PLVideoTextureView</div><div class="line">        android:id=<span class="string">"@+id/video"</span></div><div class="line">        android:layout_width=<span class="string">"match_parent"</span></div><div class="line">        android:layout_height=<span class="string">"match_parent"</span></div><div class="line">        android:layout_centerInParent=<span class="string">"true"</span> /&gt;</div><div class="line"><span class="meta">... </span>prompt<span class="string">'''</span></div></pre></td></tr></table></figure>
<p>然后findviewbyid找到它<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PLVideoTextureActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> MediaController mMediaController;</div><div class="line">    <span class="keyword">private</span> PLVideoTextureView mVideoView;</div><div class="line">    <span class="keyword">private</span> Toast mToast = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">private</span> String mVideoPath = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mRotation = <span class="number">0</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mDisplayAspectRatio = PLVideoTextureView.ASPECT_RATIO_FIT_PARENT; <span class="comment">//default</span></div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);</div><div class="line">        setContentView(R.layout.activity_pl_video_texture);</div><div class="line">        mVideoView = (PLVideoTextureView) findViewById(R.id.VideoView);</div><div class="line"></div><div class="line">        View loadingView = findViewById(R.id.LoadingView);</div><div class="line">        mVideoView.setBufferingIndicator(loadingView);</div><div class="line"></div><div class="line">        mVideoPath = getIntent().getStringExtra(<span class="string">"videoPath"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// If you want to fix display orientation such as landscape, you can use the code show as follow</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// if (this.getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE) &#123;</span></div><div class="line">        <span class="comment">//     mVideoView.setPreviewOrientation(0);</span></div><div class="line">        <span class="comment">// &#125;</span></div><div class="line">        <span class="comment">// else if (this.getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) &#123;</span></div><div class="line">        <span class="comment">//     mVideoView.setPreviewOrientation(270);</span></div><div class="line">        <span class="comment">// &#125;</span></div><div class="line"></div><div class="line">        mVideoPath = getIntent().getStringExtra(<span class="string">"videoPath"</span>);</div><div class="line"></div><div class="line">        AVOptions options = <span class="keyword">new</span> AVOptions();</div><div class="line"></div><div class="line">        <span class="keyword">int</span> isLiveStreaming = getIntent().getIntExtra(<span class="string">"liveStreaming"</span>, <span class="number">1</span>);</div><div class="line">        <span class="comment">// the unit of timeout is ms</span></div><div class="line">        options.setInteger(AVOptions.KEY_PREPARE_TIMEOUT, <span class="number">10</span> * <span class="number">1000</span>);</div><div class="line">        options.setInteger(AVOptions.KEY_GET_AV_FRAME_TIMEOUT, <span class="number">10</span> * <span class="number">1000</span>);</div><div class="line">        <span class="comment">// Some optimization with buffering mechanism when be set to 1</span></div><div class="line">        options.setInteger(AVOptions.KEY_LIVE_STREAMING, isLiveStreaming);</div><div class="line">        <span class="keyword">if</span> (isLiveStreaming == <span class="number">1</span>) &#123;</div><div class="line">            options.setInteger(AVOptions.KEY_DELAY_OPTIMIZATION, <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// 1 -&gt; hw codec enable, 0 -&gt; disable [recommended]</span></div><div class="line">        <span class="keyword">int</span> codec = getIntent().getIntExtra(<span class="string">"mediaCodec"</span>, <span class="number">0</span>);</div><div class="line">        options.setInteger(AVOptions.KEY_MEDIACODEC, codec);</div><div class="line"></div><div class="line">        <span class="comment">// whether start play automatically after prepared, default value is 1</span></div><div class="line">        options.setInteger(AVOptions.KEY_START_ON_PREPARED, <span class="number">0</span>);</div><div class="line"></div><div class="line">        mVideoView.setAVOptions(options);</div><div class="line"></div><div class="line">        <span class="comment">// You can mirror the display</span></div><div class="line">        <span class="comment">// mVideoView.setMirror(true);</span></div><div class="line"></div><div class="line">        <span class="comment">// You can also use a custom `MediaController` widget</span></div><div class="line">        mMediaController = <span class="keyword">new</span> MediaController(<span class="keyword">this</span>, <span class="keyword">false</span>, isLiveStreaming == <span class="number">1</span>);</div><div class="line">        mVideoView.setMediaController(mMediaController);</div><div class="line"></div><div class="line">        mVideoView.setOnInfoListener(mOnInfoListener);</div><div class="line"><span class="comment">//        mVideoView.setOnVideoSizeChangedListener(mOnVideoSizeChangedListener);</span></div><div class="line">        mVideoView.setOnBufferingUpdateListener(mOnBufferingUpdateListener);</div><div class="line">        mVideoView.setOnCompletionListener(mOnCompletionListener);</div><div class="line">        mVideoView.setOnSeekCompleteListener(mOnSeekCompleteListener);</div><div class="line">        mVideoView.setOnErrorListener(mOnErrorListener);</div><div class="line">        mVideoView.setVideoPath(mVideoPath);</div><div class="line">        mVideoView.setDisplayAspectRatio(PLVideoView.ASPECT_RATIO_PAVED_PARENT);</div><div class="line">        mVideoView.setOnPreparedListener(mOnPreparedListener);</div><div class="line">        mVideoView.setOnVideoSizeChangedListener(<span class="keyword">new</span> PLMediaPlayer.OnVideoSizeChangedListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onVideoSizeChanged</span><span class="params">(PLMediaPlayer plMediaPlayer, <span class="keyword">int</span> width, <span class="keyword">int</span> height)</span> </span>&#123;</div><div class="line">                Logger.i(<span class="string">"width:"</span> + width + <span class="string">"---heightL:"</span> + height);</div><div class="line">                <span class="keyword">if</span> (width &gt; height) &#123;</div><div class="line">                    <span class="comment">//视频是横屏 旋转方向</span></div><div class="line">                   setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);</div><div class="line">                &#125;</div><div class="line"></div><div class="line">                </div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        mVideoView.setVideoPath(mVideoPath);</div><div class="line">        mVideoView.start();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onPause();</div><div class="line">        mToast = <span class="keyword">null</span>;</div><div class="line">        mVideoView.pause();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onResume();</div><div class="line">        mVideoView.start();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onDestroy();</div><div class="line">        mVideoView.stopPlayback();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClickRotate</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">        mRotation = (mRotation + <span class="number">90</span>) % <span class="number">360</span>;</div><div class="line">        mVideoView.setDisplayOrientation(mRotation);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClickSwitchScreen</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">        mDisplayAspectRatio = (mDisplayAspectRatio + <span class="number">1</span>) % <span class="number">5</span>;</div><div class="line">        mVideoView.setDisplayAspectRatio(mDisplayAspectRatio);</div><div class="line">        <span class="keyword">switch</span> (mVideoView.getDisplayAspectRatio()) &#123;</div><div class="line">            <span class="keyword">case</span> PLVideoTextureView.ASPECT_RATIO_ORIGIN:</div><div class="line">                showToastTips(<span class="string">"Origin mode"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> PLVideoTextureView.ASPECT_RATIO_FIT_PARENT:</div><div class="line">                showToastTips(<span class="string">"Fit parent !"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> PLVideoTextureView.ASPECT_RATIO_PAVED_PARENT:</div><div class="line">                showToastTips(<span class="string">"Paved parent !"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> PLVideoTextureView.ASPECT_RATIO_16_9:</div><div class="line">                showToastTips(<span class="string">"16 : 9 !"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> PLVideoTextureView.ASPECT_RATIO_4_3:</div><div class="line">                showToastTips(<span class="string">"4 : 3 !"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">default</span>:</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> PLMediaPlayer.OnErrorListener mOnErrorListener = <span class="keyword">new</span> PLMediaPlayer.OnErrorListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onError</span><span class="params">(PLMediaPlayer mp, <span class="keyword">int</span> errorCode)</span> </span>&#123;</div><div class="line">            <span class="keyword">switch</span> (errorCode) &#123;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_INVALID_URI:</div><div class="line">                    showToastTips(<span class="string">"Invalid URL !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_404_NOT_FOUND:</div><div class="line">                    showToastTips(<span class="string">"404 resource not found !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_CONNECTION_REFUSED:</div><div class="line">                    showToastTips(<span class="string">"Connection refused !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_CONNECTION_TIMEOUT:</div><div class="line">                    showToastTips(<span class="string">"Connection timeout !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_EMPTY_PLAYLIST:</div><div class="line">                    showToastTips(<span class="string">"Empty playlist !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_STREAM_DISCONNECTED:</div><div class="line">                    showToastTips(<span class="string">"Stream disconnected !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_IO_ERROR:</div><div class="line">                    showToastTips(<span class="string">"Network IO Error !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_UNAUTHORIZED:</div><div class="line">                    showToastTips(<span class="string">"Unauthorized Error !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_PREPARE_TIMEOUT:</div><div class="line">                    showToastTips(<span class="string">"Prepare timeout !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.ERROR_CODE_READ_FRAME_TIMEOUT:</div><div class="line">                    showToastTips(<span class="string">"Read frame timeout !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_ERROR_UNKNOWN:</div><div class="line">                <span class="keyword">default</span>:</div><div class="line">                    showToastTips(<span class="string">"unknown error !"</span>);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// Todo pls handle the error status here, retry or call finish()</span></div><div class="line">            finish();</div><div class="line">            <span class="comment">// If you want to retry, do like this:</span></div><div class="line">            <span class="comment">// mVideoView.setVideoPath(mVideoPath);</span></div><div class="line">            <span class="comment">// mVideoView.start();</span></div><div class="line">            <span class="comment">// Return true means the error has been handled</span></div><div class="line">            <span class="comment">// If return false, then `onCompletion` will be called</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">   </div><div class="line">     <span class="keyword">private</span> PLMediaPlayer.OnCompletionListener mOnCompletionListener = <span class="keyword">new</span> PLMediaPlayer.OnCompletionListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCompletion</span><span class="params">(PLMediaPlayer plMediaPlayer)</span> </span>&#123;</div><div class="line"><span class="comment">//            finish();</span></div><div class="line">            showToast(<span class="string">"视频播放完成"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> PLMediaPlayer.OnBufferingUpdateListener mOnBufferingUpdateListener = <span class="keyword">new</span> PLMediaPlayer.OnBufferingUpdateListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBufferingUpdate</span><span class="params">(PLMediaPlayer plMediaPlayer, <span class="keyword">int</span> precent)</span> </span>&#123;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> PLMediaPlayer.OnSeekCompleteListener mOnSeekCompleteListener = <span class="keyword">new</span> PLMediaPlayer.OnSeekCompleteListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSeekComplete</span><span class="params">(PLMediaPlayer plMediaPlayer)</span> </span>&#123;</div><div class="line">            Logger.d(<span class="string">"onSeekComplete !"</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> PLMediaPlayer.OnPreparedListener mOnPreparedListener = <span class="keyword">new</span> PLMediaPlayer.OnPreparedListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPrepared</span><span class="params">(PLMediaPlayer plMediaPlayer)</span> </span>&#123;</div><div class="line">            </div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">private</span> PLMediaPlayer.OnInfoListener mOnInfoListener = <span class="keyword">new</span> PLMediaPlayer.OnInfoListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onInfo</span><span class="params">(PLMediaPlayer plMediaPlayer, <span class="keyword">int</span> what, <span class="keyword">int</span> extra)</span> </span>&#123;</div><div class="line">            <span class="keyword">switch</span> (what) &#123;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_INFO_BUFFERING_START:</div><div class="line">                    Logger.i(<span class="string">"正在缓冲----"</span>);</div><div class="line">                    <span class="comment">//开始缓存，暂停播放</span></div><div class="line">                    <span class="keyword">if</span> (isPlaying()) &#123;</div><div class="line"><span class="comment">//                        stopPlayer();</span></div><div class="line">                        <span class="keyword">if</span> (mVideoView != <span class="keyword">null</span>) &#123;</div><div class="line">                            mVideoView.pause();</div><div class="line">                        &#125;</div><div class="line">                        needResume = <span class="keyword">true</span>;</div><div class="line">                    &#125;</div><div class="line">                    rl_loading.setVisibility(View.VISIBLE);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_INFO_BUFFERING_END:</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_INFO_VIDEO_RENDERING_START:</div><div class="line">                    Logger.i(<span class="string">"缓冲完成----"</span>);</div><div class="line">                    <span class="comment">//缓存完成，继续播放</span></div><div class="line">                    <span class="keyword">if</span> (needResume)</div><div class="line"><span class="comment">//                        startPlayer();</span></div><div class="line">                        <span class="keyword">if</span> (mVideoView != <span class="keyword">null</span>) &#123;</div><div class="line">                            mVideoView.start();</div><div class="line">                        &#125;</div><div class="line">                    rl_loading.setVisibility(View.GONE);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_INFO_BUFFERING_BYTES_UPDATE:</div><div class="line">                    <span class="comment">//显示 下载速度</span></div><div class="line">                    Logger.e(<span class="string">"download rate:"</span> + extra);</div><div class="line">                    <span class="comment">//mListener.onDownloadRateChanged(arg2);</span></div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            Logger.i(<span class="string">"onInfo:"</span> + what + <span class="string">"___"</span> + extra);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这样就完成了普通视频的播放和旋转视频播放</p>
<p>看似简单 其实隐藏着大问题 ，也就是我所说的大坑<br>现在我是这样判断角度的  当视频的宽度大于高度的 我就认为这是一个横屏的视频 ，也就是说假如这个视频是1330X720（我随便说的尺寸，只为举例）现在宽度大于高度了 那么这就是一个横屏的视频，但是我只要播放手机拍摄的视频就会发现视频被放大了 ，但是其实我录制视频的时候是竖着排的 ，可视播放的时候却给我横着过来了，然后我就去看这个手机拍摄视频的尺寸  现在一般录制视频最低都是1280X720  ，恰好符合我判断的逻辑 ，难道他真是横着的？  然后我就用系统自带的播放器打开 ，居然没有横过来 ，而是竖着播放的 ，可它是怎么知道这个方向呢？于是我在百度搜 ，确实可以获取到本地视频的角度，但是好像低版本好像不兼容，然后根据角度去判断 是否需要旋转，可是我这个是网络视频啊  ，网络视频怎么获取到视频角度啊 ？ 我第一反应是 上传视频的时候把宽高角度传到服务器 ，然后获取的时候根据这个角度旋转 ，但是别人播放网络视频的时候也没有传角度过去啊 - -  然后我就在github上面问那个作者  ，结果他说 </p>
<p><strong>“onInfo: 10001, 90”, 收到这个消息后，使用 PLVideoTextureView 的 setDisplayOrientation 旋转显示的方向，后面会补充这个回调的接口和文档。</strong></p>
<p>我晕  ，你这不说 谁知道啊 坑死啊 -  -<br>然后我就修改了下代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">/**</span></div><div class="line">     * 视频的方向</div><div class="line">     */</div><div class="line"><span class="keyword">private</span> <span class="keyword">int</span> mVideoRotation;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> needResume;</div><div class="line">    <span class="keyword">private</span> PLMediaPlayer.OnInfoListener mOnInfoListener = <span class="keyword">new</span> PLMediaPlayer.OnInfoListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onInfo</span><span class="params">(PLMediaPlayer plMediaPlayer, <span class="keyword">int</span> what, <span class="keyword">int</span> extra)</span> </span>&#123;</div><div class="line">            <span class="keyword">switch</span> (what) &#123;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_INFO_BUFFERING_START:</div><div class="line">                    Logger.i(<span class="string">"正在缓冲----"</span>);</div><div class="line">                    <span class="comment">//开始缓存，暂停播放</span></div><div class="line">                    <span class="keyword">if</span> (isPlaying()) &#123;</div><div class="line"><span class="comment">//                        stopPlayer();</span></div><div class="line">                        <span class="keyword">if</span> (mVideoView != <span class="keyword">null</span>) &#123;</div><div class="line">                            mVideoView.pause();</div><div class="line">                        &#125;</div><div class="line">                        needResume = <span class="keyword">true</span>;</div><div class="line">                    &#125;</div><div class="line">                    rl_loading.setVisibility(View.VISIBLE);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_INFO_BUFFERING_END:</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_INFO_VIDEO_RENDERING_START:</div><div class="line">                    Logger.i(<span class="string">"缓冲完成----"</span>);</div><div class="line">                    <span class="comment">//缓存完成，继续播放</span></div><div class="line">                    <span class="keyword">if</span> (needResume)</div><div class="line"><span class="comment">//                        startPlayer();</span></div><div class="line">                        <span class="keyword">if</span> (mVideoView != <span class="keyword">null</span>) &#123;</div><div class="line">                            mVideoView.start();</div><div class="line">                        &#125;</div><div class="line">                    rl_loading.setVisibility(View.GONE);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> PLMediaPlayer.MEDIA_INFO_BUFFERING_BYTES_UPDATE:</div><div class="line">                    <span class="comment">//显示 下载速度</span></div><div class="line">                    Logger.e(<span class="string">"download rate:"</span> + extra);</div><div class="line">                    <span class="comment">//mListener.onDownloadRateChanged(arg2);</span></div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">10001</span>:</div><div class="line">                    <span class="comment">//保存视频角度</span></div><div class="line">                    mVideoRotation=extra;</div><div class="line">                    </div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            Logger.i(<span class="string">"onInfo:"</span> + what + <span class="string">"___"</span> + extra);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div></pre></td></tr></table></figure>
<p>然后在onVideoSizeChanged的回调里这样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mVideoView.setOnVideoSizeChangedListener(<span class="keyword">new</span> PLMediaPlayer.OnVideoSizeChangedListener() &#123;</div><div class="line">           <span class="meta">@Override</span></div><div class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onVideoSizeChanged</span><span class="params">(PLMediaPlayer plMediaPlayer, <span class="keyword">int</span> width, <span class="keyword">int</span> height)</span> </span>&#123;</div><div class="line">               Logger.i(<span class="string">"width:"</span> + width + <span class="string">"---heightL:"</span> + height);</div><div class="line">               <span class="keyword">if</span> (width &gt; height&amp;&amp;mVideoRotation==<span class="number">0</span>) &#123;</div><div class="line">                   <span class="comment">//旋转方向</span></div><div class="line">                   setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);</div><div class="line">               &#125;</div><div class="line">			<span class="comment">//如果视频角度是90度</span></div><div class="line">               <span class="keyword">if</span>(mVideoRotation==<span class="number">90</span>)</div><div class="line">               &#123;</div><div class="line">                  <span class="comment">//旋转视频</span></div><div class="line">                   mVideoView.setDisplayOrientation(<span class="number">270</span>);</div><div class="line">               &#125;</div><div class="line">               </div><div class="line">           &#125;</div><div class="line">       &#125;);</div></pre></td></tr></table></figure>
<p>这样 不管是什么视频  播放终于正常了  - -  </p>
<p>转载请注明出处  <a href="http://blog.csdn.net/yewei02538/article/details/51882933" target="_blank" rel="external">http://blog.csdn.net/yewei02538/article/details/51882933</a></p>
<p>Demo下载地址: <a href="http://download.csdn.net/detail/yewei02538/9602032" target="_blank" rel="external">http://download.csdn.net/detail/yewei02538/9602032</a></p>

	
	
	
	
</div>
				
				

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #0097A7 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #0097A7 !important;
    }
    #ds-reset .ds-highlight {
        color: #0097A7 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
        <div class="ds-thread" 
            data-thread-key="detail/Android-PLDroidPlayer播放/" 
            data-url="http://weyye.me/detail/Android-PLDroidPlayer播放/"
            data-title="Android 使用PLDroidPlayer播放网络视频 根据视频角度自动旋转"></div>
    <!-- 多说评论框 end -->
</div>



                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    
    <!-- Prev Nav -->
    
        <a href="/detail/dialogactivity/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/detail/commit-onCreateView/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>
        </div>
    </div>

				
				
					<!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay "></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored  sidebar-fixed-left" role="navigation">
	<div id="sidebar-main">
	    <!-- Sidebar Header -->
		<div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
    <i class="material-icons">clear_all</i>
    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.jpg" alt="Wey Ye's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        yewei02538@163.com
        <b class="caret"></b>
    </a>
</div>

		<!-- Sidebar Navigation  -->
		<ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
			
                <li>
                    <a href="#" target="_blank" title="Email Me">
						<i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    <li id="sidebar-first-li">
        <a href="/" target="_self">
            <i class="material-icons sidebar-material-icons">home</i>
             主页
        </a>
    </li>

    <!-- I'm Feeling Lucky -->
<!--
    <li class="dropdown">
        <a href="" target="_self">
            <i class="material-icons sidebar-material-icons">explore</i>
             sidebar.imlucky
        </a>
    </li>
-->

	
    <!-- Archives  -->
    <li class="dropdown">
        <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
            <i class="material-icons sidebar-material-icons">inbox</i>
             归档
            <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
            <li>
            <a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/11/">十一月 2015<span class="sidebar_archives-count">1</span></a>
        </ul>
    </li>

    <!-- Divider -->
    <li class="divider"></li>


    <!-- Pages  -->
	
		<li>
			<a href="/about" title="关于我">
				关于我
			</a>
		</li>
	

    <!-- Article Numebr  -->
    <li>
        <a href="/archives">
             文章总数
             <span class="sidebar-badge">11</span>
        </a>
    </li>
</ul>

		<!-- Sidebar Divider -->
		<div class="sidebar-divider"></div>

		<!-- Sidebar Footer -->
		<!-- 
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持。 :) 
-->

<!-- Theme Material -->
<a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
	<div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
		主题 - Material
		<span class="sidebar-badge badge-circle">i</span>
	</div>
</a>

<!-- Help & Support -->
<!--
<a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
		sidebar.help
		<span class="mdl-button__ripple-container">
			<span class="mdl-ripple"></span>
		</span>
	</div>
</a>
-->

<!-- Feedback -->
<!--
<a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.feedback
                    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>
-->

<!-- Abount Theme -->
<!--
<a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.about_theme
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>-->

	</div>
    
    <!-- Sidebar Sponsor -->
    


</aside>

				
				
				
					<!-- Footer Top Button -->
					<div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>
				
				
				<!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
	
	
		<!-- Paradox Footer Left Section -->
		<div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
    
    
    <!-- Facebook -->
    
    
    
    <!-- Google + -->
    
    
    
    <!-- Weibo -->
    
    
    
    <!-- Instagram -->
    
    
    
    <!-- Tumblr -->
    
    
    
    <!-- Github -->
    
    <a href="https://github.com/yewei02538" target="view_window"><button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
        <span class="visuallyhidden">Github</span>
    </button></a>
    
</div>


		<!--Copyright-->
		<div id="copyright">Copyright&nbsp;©&nbsp;<script type="text/javascript">var fd = new Date();document.write(fd.getFullYear());</script>&nbsp;Wey Ye的博客</div>

		<!-- Paradox Footer Right Section -->

		<!-- 
		I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright.
		It will not impact the appearance and can give developers a lot of support :)

		很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
		它不会影响美观并可以给开发者很大的支持。 :) 
		-->

		<div class="mdl-mini-footer--right-section">
			<div>
				<div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
				<div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
			</div>
		</div>
	
    
</footer>
                
				<!-- Import File -->
<script src="/js/highlight.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    
    $('#nprogress .bar').css({
        'background': '#FF4081'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #FF4081, 0 0 15px #FF4081'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#FF4081',
        'border-left-color': '#FF4081'
    });
    
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>








    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"yipwey"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = 'https://static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] 
             || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共 js 代码 end -->




<!-- Swiftye -->


<!-- Local Search-->


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $(".post-toc-wrap").parent(".mdl-menu__container").css("position", "fixed");
    });
</script>

<!-- MathJax Load-->

            </main>
        </div>
		
    </body>
		
	
</html>
